    loading = true;
    fetch('/collections/{{ collection.handle }}?' + queryString)
      .then(response => response.text())
      .then(data => {
        let html_div = document.createElement('div');
        html_div.innerHTML = data;
        let html_dom = html_div.querySelector('#ProductGridContainer').innerHTML;
  console.log('html_dom', html_dom);
        document.querySelector('#ProductGridContainer').innerHTML = html_dom;
        // update url without refreshing the page 
        history.replaceState(null, null, '?' + queryString);
      })
      .catch(error => console.error('Error:', error))
      .finally(() => loading = false);
    
  })"